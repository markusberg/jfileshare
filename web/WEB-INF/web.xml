<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
    <display-name>JFileShare webapp</display-name>
    <description>
      This is jfileshare. A webbapp for sharing large (or small) files with
      others over the internet. It was written by Zoran Pucar.
      Converted to Tomcat and Ant by Markus Berg [markus.berg@sectra.se]
      Completely rewritten by Markus Berg [markus.berg@sectra.se]
    </description>
    <!-- Filter definitions -->
    <filter>
        <filter-name>sitemesh</filter-name>
        <filter-class>com.opensymphony.module.sitemesh.filter.PageFilter</filter-class>
    </filter>
    <filter>
        <filter-name>setcharacterencoding</filter-name>
        <filter-class>com.sectra.jfileshare.filters.SetCharacterEncodingFilter</filter-class>
    </filter>
    <filter>
        <filter-name>login</filter-name>
        <filter-class>com.sectra.jfileshare.filters.LoginFilter</filter-class>
    </filter>
    <filter>
        <filter-name>logout</filter-name>
        <filter-class>com.sectra.jfileshare.filters.LogoutFilter</filter-class>
    </filter>
    <filter>
        <filter-name>fileAuth</filter-name>
        <filter-class>com.sectra.jfileshare.filters.FileAuthenticationFilter</filter-class>
    </filter>
    <!-- Sitemesh filter -->
    <filter-mapping>
        <filter-name>sitemesh</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
    <!-- Character encoding filter -->
    <filter-mapping>
        <filter-name>setcharacterencoding</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>
    <!-- Authentication filters -->
    <filter-mapping>
        <filter-name>logout</filter-name>
        <url-pattern>/logout/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>fileAuth</filter-name>
        <url-pattern>/file/download/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/file/edit/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/file/delete/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/file/log/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/file/upload/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>fileAuth</filter-name>
        <url-pattern>/file/view/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/user/add/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/user/admin/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/user/delete/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/user/edit/*</url-pattern>
    </filter-mapping>
    <filter-mapping>
        <filter-name>login</filter-name>
        <url-pattern>/user/view/*</url-pattern>
    </filter-mapping>
    <!-- Servlet definitions -->
    <servlet>
        <servlet-name>FileDelete</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.FileDeleteServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>FileDownload</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.FileDownloadServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>FileEdit</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.FileEditServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>FileLog</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.FileLogServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>FileUpload</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.FileUploadServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>FileView</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.FileViewServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>UserAdd</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.UserAddServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>UserAdmin</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.UserAdminServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>UserDelete</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.UserDeleteServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>UserEdit</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.UserEditServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>UserView</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.UserViewServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>AjaxFileReceiver</servlet-name>
        <servlet-class>com.sectra.jfileshare.ajax.FileReceiverServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>PasswordReset</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.PasswordResetServlet</servlet-class>
    </servlet>
    <!-- "Special" servlets -->
    <servlet>
        <servlet-name>LinkCompatibility</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.LinkCompatibilityServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>Startup</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.StartupServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>VacuumCleaner</servlet-name>
        <servlet-class>com.sectra.jfileshare.servlets.VacuumCleaner</servlet-class>
        <load-on-startup>2</load-on-startup>
    </servlet>
    <!-- Servlet mappings -->
    <servlet-mapping>
        <servlet-name>FileDelete</servlet-name>
        <url-pattern>/file/delete/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>FileDownload</servlet-name>
        <url-pattern>/file/download/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>FileEdit</servlet-name>
        <url-pattern>/file/edit/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>FileLog</servlet-name>
        <url-pattern>/file/log/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>FileUpload</servlet-name>
        <url-pattern>/file/upload/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>FileView</servlet-name>
        <url-pattern>/file/view/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>UserAdd</servlet-name>
        <url-pattern>/user/add/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>UserAdmin</servlet-name>
        <url-pattern>/user/admin/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>UserDelete</servlet-name>
        <url-pattern>/user/delete/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>UserEdit</servlet-name>
        <url-pattern>/user/edit/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>UserView</servlet-name>
        <url-pattern>/user/view/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AjaxFileReceiver</servlet-name>
        <url-pattern>/ajax/filereceiver</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>PasswordReset</servlet-name>
        <url-pattern>/passwordreset/*</url-pattern>
    </servlet-mapping>
    <!-- Compatibility URL:s with older version of jfileshare -->
    <servlet-mapping>
        <servlet-name>LinkCompatibility</servlet-name>
        <url-pattern>/download/view/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>LinkCompatibility</servlet-name>
        <url-pattern>/download/get/*</url-pattern>
    </servlet-mapping>
</web-app>
